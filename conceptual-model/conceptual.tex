\documentclass[12pt,a4paper,twoside,spanish]{article}      % Libro a 11 pt
\usepackage[utf8]{inputenc}
\usepackage[height=17.5cm,width=13.5cm]{geometry}
\usepackage[spanish]{babel}         % diccionario
\usepackage{epsfig}         % Graficos Postscript
\usepackage{tabularx}
\usepackage{sectsty}
\usepackage{float}
\usepackage{multirow}
\usepackage{booktabs}

% color del texto
\usepackage {xcolor}

% diagramas
\usepackage{tikz}
\usetikzlibrary{shapes, arrows.meta, positioning}
\tikzset {font=\scriptsize}

% uml
\usepackage{pgf-umlcd}
\renewcommand{\umltextcolor}{black}
\renewcommand{\umldrawcolor}{black}
\renewcommand{\umlfillcolor}{white}

% arrows
\usetikzlibrary{arrows.meta}

% code
\usepackage{listings}
\lstset{escapeinside=||}
\lstset{
    numbers=left,
    numberstyle=\small,
    numbersep=8pt,
    frame = single,
    language=Pascal,
    framexleftmargin=20pt,
    framexrightmargin=20pt
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%
%%%%%%%%%%%%% Margenes
%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%% Definimos el maximo tamaño posible.
\marginparwidth 0pt     \marginparsep 0pt
\topmargin   0pt        \textwidth   6.5in
\textheight 23cm

% Margen izq del txt en impares.
\setlength{\oddsidemargin}{.0001\textwidth}

% Margen izq del txt en pares.
\setlength{\evensidemargin}{-.04\textwidth}

% Anchura del texto
\setlength{\textwidth}{.99\textwidth}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%% %%%%%%%%%%%%% Profundidad de enumeracion y tabla de contenidos
%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%
%%%%%%%%%%%%% Nuevos Comandos
%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

            %%%%%%%%%%%%%%%%%%%%%%%
            %%%%%%%%%%%%%%%%%%%%%%%
            % Comandos para simplificar
            % la escritura
            %%%%%%%%%%%%%%%%%%%%%%%
            %%%%%%%%%%%%%%%%%%%%%%%

\def\mc{\multicolumn}
            %%%%%%%%%%%%%%%%%%%%%%%
            % Comandos para poder utilizar raggedright en tablas
            %%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\PreserveBackslash}[1]{\let\temp=\\#1\let\\=\temp}
\let\PBS=\PreserveBackslash

\newcommand {\inference}[5] {
    \begin {tikzpicture}
         \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (0,0) (input) {#1};
        \node [draw,
            rounded corners = 0.5cm,
            minimum width=2cm,
            minimum height=1cm] at (3,0) (inference) {#2};
        \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (6,0) (output) {#3};
        \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (0,-2) (input_type) {#4};
        \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (6,-2) (output_type) {#5};

        \draw [-latex] (input) to (inference);
        \draw [-latex] (inference) to (output);
        \draw [dotted] (-1,-1) to (7,-1);
        \draw [->,dashed] (input) edge (input_type);
        \draw [->,dashed] (output) edge (output_type);
    \end {tikzpicture}
}
\newcommand {\logicinference}[7] {
    \begin {tikzpicture}
         \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (0,0) (input) {#1};
        \node [draw,
            rounded corners = 0.5cm,
            minimum width=2cm,
            minimum height=1cm] at (3,0) (inference) {#2};
        \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (6,0) (output) {#3};

        \draw [line width=0mm, black] (1.75,-1) -- (4.25,-1);
        \node [align=center,
            minimum width=2cm,
            minimum height=1cm] at (3,-1.5) (knowledge) {#6};
        \draw [line width=0mm, black] (1.75,-2) -- (4.25,-2);

        \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (0,-3.5) (input_type) {#4};
        \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (6,-3.5) (output_type) {#5};
        \node [draw,
            minimum width=2cm,
            minimum height=1cm] at (3,-3.5) (rule) {#7};

        \draw [-latex] (input) to (inference);
        \draw [-latex] (inference) to (output);
        \draw [dotted] (-1,-2.5) to (7,-2.5);
        \draw [->,dashed] (input) edge (input_type);
        \draw [->,dashed] (output) edge (output_type);
        \draw [-latex] (knowledge) to (inference);
        \draw [->, dashed] (rule) to (knowledge);
    \end {tikzpicture}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%
%%%%%%%%%%%%% Cuerpo del documento
%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\begin{document}

\def\chaptername{Capítulo}
\def\tablename{Tabla}
\def\listtablename{Índice de Tablas}
\chapterfont{\LARGE\raggedleft}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DISEÑO DE LA PAGINA DEL TITULO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\pagestyle{empty}

\begin{titlepage}
\setlength{\parindent}{0cm} \setlength{\parskip}{0cm}

%\raggedleft {\textsf{\textbf{Login del grupo: xxxx}}}

\newcommand{\HRule}{\rule{\linewidth}{1mm}}

\vspace*{2cm}
\HRule \\[0.5cm]
\begin{center}
% Letra lineal y negrita
\textsf{\textbf{\large UN SISTEMA BASADO EN CONOCIMIENTO PARA EL DISEÑO ÓPTIMO DE UN COCHE DE F1)\\[0.75cm] MODELADO CONCEPTUAL EN COMMONKADS \\[0.5cm]}}
\HRule \vspace*{3cm}

\textsf{\textbf{\normalsize Yago Fernández Rego\\ Rodrigo Naranjo González\\ Adrián Rodríguez López\\[5cm]
Horario de prácticas: Viernes 08:30\\
Login de entrega: r.naranjo\\[2.5cm]
Desarrollo de Sistemas Inteligentes\\
Universidade da Coruña \\ Curso
2023}}
\end{center}
\end{titlepage}

\cleardoublepage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%
%% TABLA DE CONTENIDOS
%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pagenumbering{Roman}
\tableofcontents
\cleardoublepage


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%CONTENIDO DEL DOCUMENTO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%numeros arábigos
\pagenumbering{arabic} \pagestyle{myheadings} \markboth{Grupo de prácticas: 3.1}{Modelado Conceptual en CommonKADS.}

%indentaciones y espaciado entre párrafos
\setlength{\parindent}{1,5cm} \setlength{\parskip}{0,7cm}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section {Modelo de Conocimiento.}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Fase de Identificación}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

La tarea de la cual se refiere este modelo conceptual es la tarea 4 del OM-3, correspondiente a \textbf{Generación de la configuración optima del monoplaza}.
\begin{table}[H]
    \scriptsize
    \begin{tabularx}{\textwidth}{|p{0.2cm}|>{\raggedright}X|>{\raggedright}X|>{\raggedright}X|>{\raggedright}X|>{\raggedright}X|>{\PBS\raggedright}X|} \hline
        \multicolumn{3}{|l}{\textbf{Modelo de Organización}} &
        \multicolumn{4}{|l|}{\textbf{Formulario OM-3: Descomposición de los Procesos}}\\ \hline\hline \textsc{N\textordmasculine} &

    \textsc{Tarea} &
    \textsc{Realiza\-da por} &
    \textsc{¿Dónde?} &
    \textsc{Recursos de Conocimiento} &
    \textsc{¿In\-ten\-si\-va en Conocimiento?} &
    \textsc{Im\-por\-tan\-cia} \\ \hline

    4 &
    Generación de la configuración óptima del monoplaza. &
    Ingenieros y director del equipo. &
    \textit{Pit wall} del circuito donde se encuentran los monitores de la escudería. &
    Conocimiento del reglamento y experiencia en generación de configuraciones. &
    Sí, de razonamiento elevado. &
    Paso clave. \\ \hline

    \end{tabularx}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Glosario}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{itemize}
    \item \textbf{ICE}: de sus siglas en inglés, Motor de Combustión Interna.
    \item \textbf{MGU-H}: de sus siglas en inglés, Motor-Generador de Calor, recupera la energía generada por el calor.
    \item \textbf{MGU-K}: de sus siglas en inglés, Motor-Generador de Cinética, recupera la energía generada por las cargas cinéticas como, por ejemplo, las frenadas.
    \item \textbf{ES}: de sus siglas en inglés, Almacenador de Energía. Almacena la energía eléctrica generada por las unidades de recuperación de energía (MGU-H y MGU-K). 
    \item \textbf{CE}: de sus siglas en inglés, Control Electrónico. Controla y monitorea el funcionamiento de la unidad de potencia híbrida del coche.
    \item \textbf{Exhaust}: del nombre en inglés, sistema de escape de la Unidad de Potencia. Permite que los gases de escape generados por la combustión del combustible dentro del motor salgan del motor de manera segura y eficiente.
    \item \textbf{EOS}: de sus siglas en inglés, Fin de Recta, indica que la forma que se debe medir, en este caso, la inclinación vertical de las ruedas, es al final de una recta donde el monoplaza tiene su mayor carga aerodinámica.
    \item \textbf{Diferencial}: componente que se utiliza para permitir que las ruedas de la parte trasera del coche giren a diferentes velocidades mientras el coche está girando o acelerando en línea recta. En los coches de Fórmula 1, el diferencial está diseñado para ser altamente ajustable y se puede adaptar a las condiciones específicas de la pista y del coche. Desde dentro del coche, los pilotos también pueden ajustar la configuración del diferencial utilizando los controles en el volante.
    \item \textbf{Sesgo de freno}: configuración que se refiere a la proporción de frenado entre las ruedas delanteras y traseras del coche. Se puede ajustar para lograr un equilibrio óptimo entre la frenada y el rendimiento de la dirección en diferentes situaciones.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Escenarios}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{table}[H]
    \centering
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{Circuito: \textbf{Bahrein}} \\ \midrule
        Tracción & 1 2 3 \underline{\textbf{4}} 5 \\
        Evolución de la pista & 1 2 3 \underline{\textbf{4}} 5 \\
        Frenada & 1 2 3 \underline{\textbf{4}} 5 \\
        Agarre del asfalto & 1 2 \underline{\textbf{3}} 4 5 \\
        Fuerza lateral & 1 2 \underline{\textbf{3}} 4 5 \\
        Estrés a las ruedas & 1 2 \underline{\textbf{3}} 4 5 \\
        Carga aerodinámica & 1 2 \underline{\textbf{3}} 4 5 \\
        Abrasión del asfalto & 1 2 3 4 \underline{\textbf{5}} \\
        Número de vueltas & 57 \\
        Longitud del circuito & 5'412 km \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Requisitos de las ruedas}} \\ \midrule
        Compuestos secos disponibles (duro -- medio -- blando) & C1 -- C2 -- C3 \\
        Presión mínima inicial (delanteras -- traseras) & 21'0 psi -- 18'5 psi \\
        Límite de inclinación vertical (delanteras -- traseras) & -$3'50^\circ$ -- -$2'00^\circ$ \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Estado del coche}} \\ \midrule
        Caja de cambios & 14\% \\
        ICE & 73\% \\
        MGU-H & 38\% \\
        MGU-K & 35\% \\
        TC & 80\% \\
        ES & 76\% \\
        CE & 27\% \\
        Escape & 46\% \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Meteorología}} \\ \midrule
        Temperatura del ambiente & $34^\circ C$ \\
        Temperatura del asfalto & $49^\circ C$ \\
        Velocidad del viento & 19 km/h \\
        Dirección del viento & N \\
        Humedad & 47\% \\
        Precipitaciones & 0mm \\
        Presión atmosférica & 1019 mbar \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \caption{entradas del primer escenario.}
    \label{tab:in_esc_1}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{Circuito: \textbf{Barcelona-Catalunya}} \\ \midrule
        Tracción & 1 2 \underline{\textbf{3}} 4 5 \\
        Evolución de la pista & 1 2 \underline{\textbf{3}} 4 5 \\
        Frenada & 1 2 \underline{\textbf{3}} 4 5 \\
        Agarre del asfalto & 1 2 \underline{\textbf{3}} 4 5 \\
        Fuerza lateral & 1 2 3 \underline{\textbf{4}} 5 \\
        Estrés a las ruedas & 1 2 3 \underline{\textbf{4}} 5 \\
        Carga aerodinámica & 1 2 3 \underline{\textbf{4}} 5 \\
        Abrasión del asfalto & 1 2 3 \underline{\textbf{4}} 5 \\
        Número de vueltas & 66 \\
        Longitud del circuito & 4'675 km \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Requisitos de las ruedas}} \\ \midrule
        Compuestos secos disponibles (duro -- medio -- blando) & C1 -- C2 -- C3 \\
        Presión mínima inicial (delanteras -- traseras) & 22'5 psi -- 19'0 psi \\
        Límite de inclinación vertical (delanteras -- traseras) & -$3'25^\circ$ -- -$1'75^\circ$ \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Estado del coche}} \\ \midrule
        Caja de cambios & 40\% \\
        ICE & 20\% \\
        MGU-H & 78\% \\
        MGU-K & 83\% \\
        TC & 33\% \\
        ES & 2\% \\
        CE & 10\% \\
        Escape & 6\% \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Meteorología}} \\ \midrule
        Temperatura del ambiente & $24^\circ C$ \\
        Temperatura del asfalto & $29^\circ C$ \\
        Velocidad del viento & 14 km/h \\
        Dirección del viento & SE \\
        Humedad & 70\% \\
        Precipitaciones & 0mm \\
        Presión atmosférica & 1024 mbar \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \caption{entradas del segundo escenario.}
    \label{tab:in_esc_2}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{Circuito: \textbf{Suzuka}} \\ \midrule
        Tracción & 1 2 \underline{\textbf{3}} 4 5 \\
        Frenada & 1 \underline{\textbf{2}} 3 4 5 \\
        Fuerza lateral & 1 2 3 4 \underline{\textbf{5}} \\
        Estrés a las ruedas & 1 2 3 4 \underline{\textbf{5}} \\
        Evolución de la pista & 1 2 \underline{\textbf{3}} 4 5 \\
        Agarre del asfalto & 1 2 3 \underline{\textbf{4}} 5 \\
        Abrasión del asfalto & 1 2 3 \underline{\textbf{4}} 5 \\
        Carga aerodinámica & 1 2 3 \underline{\textbf{4}} 5 \\
        Número de vueltas & 53 \\
        Longitud del circuito & 5'807 km \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Requisitos de las ruedas}} \\ \midrule
        Compuestos secos disponibles (duro -- medio -- blando) & C1 -- C2 -- C3 \\
        Presión mínima inicial (delanteras -- traseras) & 25'0 psi -- 23'0 psi \\
        Límite de inclinación vertical (delanteras -- traseras) & -$2'75^\circ$ -- -$1'50^\circ$ \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Estado del coche}} \\ \midrule
        Caja de cambios & 4\% \\
        ICE & 18\% \\
        MGU-H & 3\% \\
        MGU-K & 9\% \\
        TC & 8\% \\
        ES & 17\% \\
        CE & 5\% \\
        Escape & 19\% \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \begin{tabular}{lr}
        \toprule
        \multicolumn{2}{c}{\textbf{Meteorología}} \\ \midrule
        Temperatura del ambiente & $14^\circ C$ \\
        Temperatura del asfalto & $17^\circ C$ \\
        Velocidad del viento & 28 km/h \\
        Dirección del viento & N \\
        Humedad & 94\% \\
        Precipitaciones & 120 mm \\
        Presión atmosférica & 1018 mbar \\ \bottomrule
    \end{tabular} \\ \vspace{1em}
    \caption{entradas del tercer escenario.}
    \label{tab:in_esc_2}
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Elementos reutilizables}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
La escudería para la que trabajamos ya dispone de bases de datos completas sobre los circuitos en los que se celebrarán todas las carreras de esta temporada, y tiene acceso a históricos meteorológicos de anteriores celebraciones de Grandes Premios en cada circuito.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Fase de Especificación}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Metodología empleada}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
La metodología escogida para este proyecto es \textit{Middle-out} ya que la plantilla escogida funciona como aproximación correcta de la estructura de inferencias de manera bastante directa.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Plantilla anotada}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

La plantilla seleccionada es la de \textit{configuration design}, modificada ligeramente para adaptarse mejor a la naturaleza de nuestro problema:
\begin{center}
\begin {tikzpicture}
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (3,0) (skeletal design) {skeletal design};
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (0,-2) (soft) {soft requirements};
    \node [draw,
        rounded corners = 0.5cm,
        minimum width=2cm,
        minimum height=1cm] (propose) at (3,-2) {propose};
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (6,-2) (extension) {extension};
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (9,-4) (hard) {hard requirements};
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (3,-6) (design) {design};
    \node [draw,
        rounded corners = 0.5cm,
        minimum width=2cm,
        minimum height=1cm] at (6,-6) (verify) {verify};
    \node [draw,
        rounded corners = 0.5cm,
        minimum width=2cm,
        minimum height=1cm] at (0,-8) (modify) {modify};
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (0,-10) (action) {action};
    \node [draw,
        rounded corners = 0.5cm,
        minimum width=2cm,
        minimum height=1cm] at (3,-10) (critique) {critique};
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (6,-10) (violation) {violation};
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (9,-10) (truth) {truth value};
    \node [draw,
        rounded corners = 0.5cm,
        minimum width=2cm,
        minimum height=1cm] at (0,-12) (select) {select};
    \node [draw,
        minimum width=2cm,
        minimum height=1cm] at (3,-12) (list) {action list};

    \draw [line width=0mm, black] (7.75,-5.5) -- (10.25,-5.5);
    \node [align=center,
        minimum width=2cm,
        minimum height=1cm] at (9,-6) (k_verify) {conocimiento de\\verificación};
    \draw [line width=0mm, black] (7.75,-6.5) -- (10.25,-6.5);
    \draw [-latex] (7.75,-6) to (verify);

    \draw [line width=0mm, black] (4.75,-11.5) -- (7.25,-11.5);
    \node [align=center,
        minimum width=2cm,
        minimum height=1cm] at (6,-12) (k_critique) {conocimiento de\\crítica};
    \draw [line width=0mm, black] (4.75,-12.5) -- (7.25,-12.5);
    \draw [-latex] (k_critique) to (critique);

    \draw [line width=0mm, black] (-1.25,-3.5) -- (1.25,-3.5);
    \node [align=center,
        minimum width=2cm,
        minimum height=1cm] at (0,-4) (k_propose) {conocimiento de\\propuesta};
    \draw [-latex] (k_propose) to (propose);
    \draw [line width=0mm, black] (-1.25,-4.5) -- (1.25,-4.5);

    \draw [-latex] (skeletal design) to (propose);
    \draw [-latex] (soft) to (propose);
    \draw [-latex] (propose) to (extension);
    \draw [-latex] (extension) to (verify);
    \draw [tips = on proper draw] (hard) to (6,-4);
    \draw [-latex] (verify) to (violation);
    \draw (modify) -- (0,-6);
    \draw [-latex] (0,-6) to (design);
    \draw [-latex] (design) to (critique);
    \draw [-latex] (3,-8) to (modify);
    \draw (6,-8) -- (9,-8);
    \draw [-latex] (9,-8) to (truth);
    \draw [-latex] (violation) to (critique);
    \draw [-latex] (critique) to (list);
    \draw [-latex] (list) to (select);
    \draw [-latex] (select) to (action);
    \draw [-latex] (action) to (modify);
    \draw [-latex] (design) to (propose);
    \draw [-latex] (design) to (verify);
\end {tikzpicture}    
\end{center}

\subsubsection {Anotaciones}
\begin {description}
    \item [Cambios:] Debido a la naturaleza de los datos de entrada, consideramos innecesarias las inferencias \textit {specify} y \textit {operationalize}. Nuestros datos ya vienen formateados y separados de manera que se puedan introducir directamente en el sistema como \textit {soft} y \textit {hard requirements}, pasando estos dos a ser los inputs de nuestro sistema.
    \item [Soft requirements:] Requisitos a usar como preferencias. En nuestro caso, las preferencias de conducción del piloto.
    \item [Hard requirements:] Requisitos obligatorios. Ej: Necesario que el coche sea capaz de adaptarse a altas temperaturas si las temperaturas previstas son altas.
    \item [Skeletal design:] Colección de componentes que debe contener la solución: En nuestro caso, 4 ruedas, un motor, alerones, etc.
    \item [Extension:] Crear una extensión de diseño, basándonos en las preferencias de la base de conocimiento. Ej: Neumáticos duros.
    \item [Truth value:] Resultado booleano de verificar si el diseño propuesto es consistente o no. Ej: El coche una mayor cantidad de combustible al marcado en el reglamento por lo que devuelve false.
    \item [Violation:] Restricción incumplida por el diseño actual. Ej: Reglamento incumplido - Capacidad de combustible sobrepasada
    \item [Action list:] Lista ordenada de posibles acciones para arreglar problemas del diseño actual. Ej: Para "Reglamento incumplido - Capacidad de combustible sobrepasada", elegimos otro depósito con menor capacidad; para "Reglamento incumplido - Potencia del motor sobrepasada", elegimos otro con menor potencia.
    \item [Action:] Una simple acción para arreglar problemas del diseño actual. Ej: Para \emph{Reglamento incumplido - Capacidad de combustible sobrepasada}, cargamos al coche con menos combustible.
    \item [Design:] Nuevo diseño propuesto tras aplicar el arreglo al diseño anterior. Ej: Otro coche con características similares con la cantidad de combustible reglamentaria.
\end {description}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Esquema inicial del dominio}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{tikzpicture}
    \begin{class}[rectangle split parts=2, text width=4cm]{Requisitos}{0,0}
        \attribute{PreferenciasPiloto : piloto}
        \attribute{Circuito : circuito}
        \attribute{Meteorologia : meteorologia}
    \end{class}
    \begin{class}[rectangle split parts=2, yshift=-5mm, text width = 3.5cm]{Meteorologia}{Requisitos.south}
        \attribute{Float: mmAgua}
        \attribute{Float: temperatura}
        \attribute{Float: velocidadViento}
        \attribute{Float: presionAtmosferica}
        \inherit {Requisitos}
    \end{class}
    \begin{class}[rectangle split parts=2, xshift=-32mm, text width = 4cm]{PreferenciasPiloto}{Meteorologia.north west}
        \attribute {String : tipoConduccion}
        \inherit {Requisitos}
    \end{class}
    \begin{class}[rectangle split parts=2, xshift=+32mm, text width = 3cm]{Circuito}{Meteorologia.north east}
        \attribute{Float: pendiente}
        \attribute{Float: curvas}
        \attribute{Float: longitud}
        \inherit {Requisitos}
    \end{class}
    \begin {class} [rectangle split parts=2, yshift=-10mm, text width = 3cm] {Coche} {PreferenciasPiloto.south}
        \attribute {String : tipoRuedas}
        \attribute {String : motor}
        \attribute {String : aleron}
    \end {class}
\end{tikzpicture}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Estructura inferencial y Mapeo}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textbf {Propose}
\\[0.5cm]
\logicinference {skeletal design}{propose}{extension}{Monoplaza}{Pieza}{conocimiento de\\propuesta}{reglas de propuesta}
    \hspace {1cm}
\logicinference {design}{propose}{extension}{Monoplaza}{Pieza}{conocimiento de\\propuesta}{reglas de propuesta}
\\[1cm]
\logicinference {soft requirements}{propose}{extension}{Preferencia}{Pieza}{conocimiento de\\propuesta}{reglas de propuesta}
\\[1cm]
\textbf {Verify}
\\[0.5cm]
\logicinference {design}{verify}{truth value}{Monoplaza}{Monoplaza.cumple}{conocimiento de\\verificación}{reglas de verificación}
\hspace {1cm}
\logicinference {design}{verify}{violation}{Monoplaza}{Requisito.cumple}{conocimiento de\\verificación}{reglas de verificación}
\\[1cm]
\logicinference {hard requirements}{verify}{truth value}{Requisito}{Monoplaza.cumpl}{conocimiento de\\verificación}{reglas de verificación}
\hspace {1cm}
\logicinference {hard requirements}{verify}{violation}{Requisito}{Requisito.cumple}{conocimiento de\\verificación}{reglas de verificación}
\\[1cm]
\logicinference {extension}{verify}{truth value}{Pieza}{Monoplaza.cumple}{conocimiento de\\verificación}{reglas de verificación}
\hspace {1cm}
\logicinference {extension}{verify}{violation}{Pieza}{Requisito.cumple}{conocimiento de\\verificación}{reglas de verificación}
\\[1cm]
\textbf {Critique}
\\[0.5cm]
\logicinference {violation}{critique}{action list}{Requisito.cumple}{ActionList}{conocimiento de\\crítica}{reglas de crítica}
\hspace {1cm}
\logicinference {design}{critique}{action list}{Monoplaza}{ActionList}{conocimiento de\\crítica}{reglas de crítica}
\\[1cm]
\textbf {Select}
\\[0.5cm]
\inference {action list}{select}{action}{ActionList}{Action}
\\[1cm]
\textbf {Modify}
\\[0.5cm]
\inference {action}{modify}{design}{Action}{Monoplaza}
\hspace {1cm}
\inference {design}{modify}{design}{Monoplaza}{Monoplaza}

\textbf{Descripciones}
\begin{description}
    \item [Propose:] Crear un nuevo elemento a añadir al diseño
        \hspace*{2cm}
        \begin{itemize}
            \item \textbf {Ejemplo:} escoger la altura que va a tener el monoplaza.
            \item \textbf {Conocimiento Estático:} dependencias entre elecciones de componentes; preferencias de componentes.
            \item \textbf {Apuntes:} solo se genera parte de la solución.
        \end{itemize}
    \item [Critique:] dada una propuesta de solución, genera uno o varios problemas relacionados.
       \begin{itemize}
            \item \textbf {Ejemplo:} criticar un posible diseño del coche.
            \item \textbf {Conocimiento Estático:} tendencia a ser heurísitca y dependiente del contexto.
            \item \textbf {Computación:} actualización básica.
        \end{itemize}
    \item [Select:] escoge un elemento de la lista o conjunto dado.
        \begin{itemize}
            \item \textbf {Ejemplo:} específicamente escoge una acción a tomar, por ejemplo, reducir la altura del monoplaza.
            \item \textbf {Conocimiento Estático:} conocimiento del dominio.
            \item \textbf {Computación:} \emph{forward reasoning}.
        \end{itemize}
    \item [Modify:] tomando el diseño como entrada, con una entrada opcional siendo la acción concreta a realizar, obtiene un nuevo y actualizado diseño.
        \begin{itemize}
            \item \textbf {Ejemplo:} modificar el diseño del coche cambiando la altura del modelo.
            \item \textbf {Computación:} actualización básica.
        \end{itemize}
    \item [Verify:] dado un diseño, emite un valor booleano, indicando si el diseño pasa el test, en caso contrario indica la violación.
        \begin{itemize}
            \item \textbf {Ejemplo:} verificar un diseño de monoplaza.
            \item \textbf {Conocimiento Estático:} conocimiento del dominio.
            \item \textbf {Computación:} algoritmos de selección básicos.
        \end{itemize}
\end{description}

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Tarea}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\textbf {Especificación de la tarea}
\begin{lstlisting}
    TASK : configuration-design;
    INPUT :
      soft requirements : "preferencias de conducci|ó|n del piloto";
      hard requirements : "datos sobre el circuito y meteorolog|í|a";
    OUTPUT : dise|ñ|o : "propuesta de dise|ñ|o de un monoplaza";
    END TASK;
\end{lstlisting}

\textbf {Método de la tarea}
\begin{lstlisting}
    TASK-METHOD: propose-and-revise;
      REALIZES: configuration-design;
      DECOMPOSITION:
        INFERENCES: propose, verify, critique, select, modify;
      ROLES:
        INTERMEDIATE:
          skeletal-design: "conjunto de elementos de dise|ñ|o";
          extension: "un valor nuevo para un |ú|nico design element";
          violation: "constraint incumplido por el design actual";
          truth-value: "booleano valor de la verificaci|ó|n";
          action-list: "lista de posibles fixAction";
          action: "una |ú|nica acci|ó|n de reparaci|ó|n";
      CONTROL-STRUCTURE;
          WHILE NEW-SOLUTION propose(skeletal-design + design +
              soft-requirements -> extension) DO
            design := extension ADD design;
            verify(design + hard-requirements -> truth-value +
                violation);
            IF truth-value == false
            THEN
              critique(violation + design -> action-list);
              REPEAT
                select(action-list -> action);
                modify(design + action -> design);
                verify(design + hard-requirements -> truth-value +
                    violation);
              UNTIL truth-value == true;
              END REPEAT
            END IF
          END WHILE
    END TASK-METHOD propose-and-revise;
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Esquema del dominio final}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\hspace*{-70pt}
\begin {tikzpicture}
    \begin{class}[rectangle split parts=1, xshift=+32mm, text width = 0.75cm]{ICE}{0,-2}
    \end{class}
    \begin{class}[rectangle split parts=1, xshift=+32mm, text width = 1.5cm]{MGU-H}{ICE.north west}
    \end{class}
    \begin{class}[rectangle split parts=1, xshift=+32mm, text width = 1.5cm]{MGU-K}{MGU-H.north west}
    \end{class}
    \begin{class}[rectangle split parts=1, xshift=+32mm, text width = 0.75cm]{TC}{MGU-K.north west}
    \end{class}
    \begin{class}[rectangle split parts=1, xshift=+32mm, text width = 0.75cm]{ES}{TC.north west}
    \end{class}
    \begin{class}[rectangle split parts=1, xshift=+32mm, text width = 0.75cm]{CE}{ES.north west}
    \end{class}
    \begin{class}[rectangle split parts=1, xshift=+33mm, text width = 2cm]{Exhaust}{CE.north west}
    \end{class}
    \begin{class}[rectangle split parts=2, text width = 2.75cm]{Unidad Potencia}{15.5,2.5}
        \attribute {vidaUtil : int}
        \attribute {antigüedad : int}
        \attribute {vecesCambiado : int}
    \end {class}
    \begin {class} [rectangle split parts = 1, text width = 2cm] {Piezas} {10,4}
    \end {class}
    \begin {class} [rectangle split parts = 2, text width = 3cm] {Caja Cambios} {4.5,2.5}
        \attribute {vidaUtil: int}
        \attribute {antigüedad : int}
        \attribute {vecesCambiado : int}
    \end {class}
    \begin {class} [rectangle split parts = 2, text width = 6cm] {Rueda} {10,2.25}
        \attribute {compuesto : \{C1, C2, C3, C4, C5, C6\}}
        \attribute {inclinación vertical EOS delantera : float}
        \attribute {inclinación vertical EOS trasera : float}
        \attribute {inclinación horizontal EOS delantera : float}
        \attribute {inclinación horizontal EOS delantera : float}
        \attribute {presión delantera : float}
        \attribute {presión trasera : float}
    \end {class}
    \begin {class} [rectangle split parts = 2, text width = 5cm] {Monoplaza} {10,12}
        \attribute {cumple : bool}
        \attribute {alerón delantero :\{\}}
        \attribute {alerón trasero : \{\}}
        \attribute {carga de combustible : float}
        \attribute {carga aerodinámica alerón delantero : \{\}}
        \attribute {carga aerodinámica alerón trasero : \{\}}
        \attribute {ajuste del diferencial : int}
        \attribute {suspensión delantera : \{\}}
        \attribute {suspensión trasera : \{\}}
        \attribute {altura delantera : int}
        \attribute {altura trasera : int}
        \attribute {presión de frenos : int}
        \attribute {sesgo de frenos delanteros : int}
    \end {class}
    \begin {class} [rectangle split parts = 2, text width = 4cm] {Preferencias} {3,5.75}
        \attribute {actitud piloto : \{agresiva, segura\}}
        \attribute {comportamiento coche : \{sobrevirador, subvirador\}}
    \end {class}
    \begin {class} [rectangle split parts = 2, text width = 3.5cm] {Meteorologia} {16,15.25}
        \attribute {temperatura ambiental : float}
        \attribute {temperatura asfalto : float}
        \attribute {velocidad viento : int}
        \attribute {dirección viento : \{N, NE, E, SE, S, SO, O, NO\}}
        \attribute {humedad : int}
        \attribute {presion atmosférica : int}
    \end {class}
    
    \begin {class} [rectangle split parts = 2, text width = 3.5cm] {Desgaste} {16,11}
        \attribute {desgaste caja cambios : int}
        \attribute {desgaste ICE : int}
        \attribute {desgaste MGU-H : int}
        \attribute {desgaste MGU-K : int}
        \attribute {desgaste TC : int}
        \attribute {desgaste ES : int}
        \attribute {desgaste CE : int}
        \attribute {desgaste Exhaust : int}
    \end {class}
    \begin {class} [rectangle split parts = 2, text width = 3cm] {Requisito} {10,15.25}
        \attribute {cumple : bool}
    \end {class}
    \begin {class} [rectangle split parts = 2, text width = 5.5cm] {Circuito} {3,16}
        \attribute {tracción : \{1,2,3,4,5\}}
        \attribute {frenada : \{1,2,3,4,5\}}
        \attribute {fuerza lateral : \{1,2,3,4,5\}}
        \attribute {estrés ruedas : \{1,2,3,4,5\}}
        \attribute {evolución de la pista : \{1,2,3,4,5\}}
        \attribute {agarre del asfalto : \{1,2,3,4,5\}}
        \attribute {carga aerodinámica : \{1,2,3,4,5\}}
        \attribute {número de vueltas : int}
        \attribute {número curvas rápidas : int}
        \attribute {número curvas lentas : int}
        \attribute {logitud : float}
        \attribute {compuesto neumatico duro : \{C1, C2, C3, C4, C5, C6\}}
        \attribute {compuesto neumatico medio : \{C1, C2, C3, C4, C5, C6\}}
        \attribute {compuesto neumatico blando : \{C1, C2, C3, C4, C5, C6\}}
        \attribute {presion minima inicial ruedas delanteras : float}
        \attribute {presion minima inicial ruedas traseras : float}
        \attribute {límite inclinación lateral EOS ruedas delanteras : float}
        \attribute {límite inclinación lateral EOS ruedas traseras : float}
    \end {class}
    \begin {class} [rectangle split parts = 2, text width = 5cm] {Action} {10,18.75}
        \attribute {acción: \{Aumento, Disminución\}}
    \end {class}
    \begin {class} [rectangle split parts = 1, text width = 2cm] {ActionList} {10,20}
    \end {class}

    % relations
    \node[text width=3cm] at (13,4.1)
        {propose};
     \node[text width=3cm] at (11,15.8)
        {critique};
    \node[text width=3cm] at (11,12.5)
        {verify};
    \node[text width=3cm] at (15,18.75)
        {fix};

    % rules
    \node [draw,
        rounded corners = 0.5cm,
        minimum width=2cm,
        minimum height=1cm] at (15,5) (propuesta) {reglas propuesta};
    \node [draw,
        rounded corners = 0.5cm,
        minimum width=2cm,
        minimum height=1cm] at (8,16.7) (critica) {reglas crítica};
    \node [draw,
        rounded corners = 0.5cm,
        minimum width=2cm,
        minimum height=1cm] at (8,13.1) (verificacion) {reglas verificación};

    % knowledge links
    \draw [dashed] (propuesta) to (13.25,5);
    \draw [dashed] (verificacion) to (10,13.1);
    \draw [dashed] (critica) to (10,16.7);

    % central vertical lines bottom-up
    \draw [-{Diamond[open]}](10,4) -- (10,5.9);
    \draw (10,12) -- (10,12.3);
    \draw (10,12.7) -- (10,14.15);
    \draw (10,15.25) -- (10,15.6);
    \draw (10,16) -- (10,17.7);
    \draw [-{Diamond[open]}] (10,18.75) -- (10,19.5);

    % requisitos
    \draw [-latex] (8.35,15) -> (5.9,15);
    \draw [-latex] (11.65,15) -> (14.1,15);
    \draw (13.7,15) -- (13.7,11);
    \draw [rounded corners = 5pt] (13.95,10.75) -| (13.7,11);
    \draw [-latex] (13.95,10.75) -> (14.1,10.75);

    % preferencias
    \draw (3.25,6.25) -- (7.3,6.25);
    \draw [rounded corners = 5pt] (3.25,6.25) -| (3,6);
    \draw [-latex] (3,6) -- (3,5.75);

    % piezas
    \draw [-latex] (10,3.5) -- (10,2.25);
    \draw [rounded corners = 5pt] (9.75,3) -| (10,3.25);
    \draw [rounded corners = 5pt] (10.25,3) -| (10,3.25);

    \draw (4.75,3) -- (9.75,3);
    \draw [rounded corners = 5pt] (4.75,3) -| (4.5,2.7);
    \draw [-latex] (4.5,2.7) -> (4.5,2.5);

    \draw (10.25,3) -- (15.25,3);
    \draw [rounded corners = 5pt] (15.25,3) -| (15.5,2.7);
    \draw [-latex] (15.5,2.7) -> (15.5,2.5);

    % unidad potencia
    \draw (15.5,0.9) -- (15.5,-1.25);
    \draw [rounded corners = 5pt] (15,-1.5) -| (15.5,-1.25);
    \draw [rounded corners = 5pt] (15.75,-1.5) -| (15.5,-1.25);

    \draw (3.5,-1.5) -- (15,-1.5);
    \draw [rounded corners = 5pt] (3.5,-1.5) -| (3.25,-1.9);
    \draw [-latex] (3.25,-1.8) -> (3.25,-2);
    \draw [rounded corners = 5pt] (5.75,-1.5) -| (5.5,-1.9);
    \draw [-latex] (5.5,-1.8) -> (5.5,-2);
    \draw [rounded corners = 5pt] (7.85,-1.5) -| (7.6,-1.9);
    \draw [-latex] (7.6,-1.8) -> (7.6,-2);
    \draw [rounded corners = 5pt] (10.5,-1.5) -| (9.8,-1.9);
    \draw [-latex] (9.8,-1.8) -> (9.8,-2);
    \draw [rounded corners = 5pt] (12.25,-1.5) -| (12,-1.9);
    \draw [-latex] (12,-1.8) -> (12,-2);
    \draw [rounded corners = 5pt] (14.45,-1.5) -| (14.2,-1.9);
    \draw [-latex] (14.2,-1.8) -> (14.2,-2);

    \draw (15.75,-1.5) -- (16.25,-1.5);
    \draw [rounded corners = 5pt] (16.25,-1.5) -| (16.5,-1.9);
    \draw [-latex] (16.5,-1.8) -> (16.5,-2);

    % fix -> pieza
    \draw (12.65,18.5) -- (18.25,18.5);
    \draw [rounded corners = 5pt] (18.25,18.5) -| (18.5,18.25);
    \draw (18.5,18.25) -- (18.5,4);
    \draw [rounded corners = 5pt] (18.25,3.6) -| (18.5,4);
    \draw (11.15,3.6) -- (18.25,3.6);

    % propuesta
    \draw (11.65,14.75) -- (13,14.75);
    \draw [rounded corners = 5pt] (13,14.75) -| (13.25,14.5);
    \draw (12.65,11.75) -- (13,11.75);
    \draw [rounded corners = 5pt] (13,11.75) -| (13.25,11.5);
    \draw [rounded corners = 5pt] (13,14.75) -| (13.25,14.5);
    \draw (13.25,14.5) -- (13.25,4.15);
    \draw [rounded corners = 5pt] (13,3.9) -| (13.25,4.15);
    \draw (11.15,3.9) -- (13,3.9);


\end{tikzpicture}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Fase De Refinamiento}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Validación}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Bases de conocimientos}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textcolor {red} {Para estas prácticas, bastará con que las bases de conocimientos contengan TRES o CUATRO instancias de cada tipo de regla encontrado.}
\textbf{reglas de verificación}
\begin{lstlisting}
    EXPRESSIONS:
        Monoplaza.Ruedas.presi|ó|n_delantera <
        Requisito.Circuito.presi|ó|n_m|í|nima_inicial_trasera
      VERIFICA
        Monoplaza.cumple = false
        Requisito.Circuito.presi|ó|n_m|í|nima_inicial_trasera = false
    END KNOWLEDGE-BASE regla-verificaci|ó|n;
\end{lstlisting}

\textbf{reglas de crítica}
\begin{lstlisting}
    EXPRESSIONS:
        Requisito.Desgaste.ICE.cumple = false
      CRITICA
        Action = ICE, Action.acci|ó|n = Aumento
    END KNOWLEDGE-BASE regla-cr|í|tica;
\end{lstlisting}

\textbf{reglas de propuesta}
\begin{lstlisting}
    EXPRESSIONS:
        Requisito.<valor>
        Monoplaza
      PROPONE
        Pieza<valor>
    END KNOWLEDGE-BASE regla-propuesta;
\end{lstlisting}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Modelo de Comunicación}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textcolor {red} {El modelado conceptual no está completo sin el modelo de comunicación, que es necesario realizar antes de la implementación. El modelo se realizará siguiendo las pautas de la metodología CommonKADS resumidas en la tabla 9.8 y se comprobará su corrección con respecto a los otros modelos ya construidos siguiendo las guías que se proporcionan en el apartado 9.7.4 del libro. En el documento a entregar se incluirán comentarios BREVES que demuestren que se han tenido en cuenta estos aspectos.}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Plan de comunicación general}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textcolor {red}
{
Brevemente COMENTADO y que incluya:
\begin{itemize}
 \item Diagrama de diálogo
 \item Información de control de las transacciones en forma de
seudocódigo o de diagrama de transición
\end{itemize}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Descripción de las Transacciones}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\textcolor {red} {Modelo CM-1 que incluya las transacciones identificadas.}

\begin{table}[H]
\scriptsize
\begin{tabularx}{\textwidth}{|l|X|} \hline
\textbf{Modelo de Comunicación} & \textbf{Formulario CM-1} \\ \hline\hline

\textsc{Nombre de la transacción} & TR1.- Introducir requisitos del monoplaza

\\ \hline
\textsc{Objetos de información} &

    Optimizar las características técnicas y mecánicas para cada monoplaza según las preferencias de los pilotos y las condiciones de la pista.
\\ \hline
\textsc{Agentes involucrados} &  Emisor: XXX
                                 Receptor: SBC\\ \hline
\textsc{Plan de Comunicaciones} &  AAAA
\\ \hline
\textsc{Restricciones} &  Véase OM-4. \\ \hline
\textsc{Especificación del intercambio de información} &  La estrategia del equipo prevalecerá sobre las opiniones del piloto.\\ \hline
\end{tabularx}
  \label{tab.CM1_1}
\end{table}


\begin{table}[H]
\scriptsize
\begin{tabularx}{\textwidth}{|l|X|} \hline
\textbf{Modelo de Comunicación} & \textbf{Formulario CM-1} \\ \hline\hline

\textsc{Nombre de la transacción} & TR2.- Verificar solución obtenida

\\ \hline
\textsc{Objetos de información} & Configuración del monoplaza obtenida
\\ \hline
\textsc{Agentes involucrados} &  Emisor: SBC
                                 Receptor: Ingenieros + director \\ \hline
\textsc{Plan de Comunicaciones} &  AAAA
\\ \hline
\textsc{Restricciones} &  Se inicia la transacción cuando el SBC obtiene una solución. \\ \hline
\textsc{Especificación del intercambio de información} &  Tipo Ask/Reply\\ \hline
\end{tabularx}
  \label{tab.CM1_2}
\end{table}


\begin{table}[H]
\scriptsize
\begin{tabularx}{\textwidth}{|l|X|} \hline
\textbf{Modelo de Comunicación} & \textbf{Formulario CM-1} \\ \hline\hline

\textsc{Nombre de la transacción} & TR3.- Obtener solución

\\ \hline
\textsc{Objetos de información} & Configuración del monoplaza obtenida
\\ \hline
\textsc{Agentes involucrados} &  Emisor: SBC
                                 Receptor: Ingenieros + director \\ \hline
\textsc{Plan de Comunicaciones} &  AAAA
\\ \hline
\textsc{Restricciones} &  Se inicia la transacción cuando el SBC obtiene una solución correcta. \\ \hline
\textsc{Especificación del intercambio de información} &  Tipo Report\\ \hline
\end{tabularx}
  \label{tab.CM1_3}
\end{table}

\begin{table}[H]
\scriptsize
\begin{tabularx}{\textwidth}{|l|X|} \hline
\textbf{Modelo de Comunicación} & \textbf{Formulario CM-1} \\ \hline\hline

\textsc{Nombre de la transacción} & TR4.- Guardar solución

\\ \hline
\textsc{Objetos de información} & Configuración del monoplaza obtenida
\\ \hline
\textsc{Agentes involucrados} &  Emisor: SBC
                                 Receptor: BBDD \\ \hline
\textsc{Plan de Comunicaciones} &  AAAA
\\ \hline
\textsc{Restricciones} &  Se inicia la transacción cuando el SBC obtiene una solución correcta. \\ \hline
\textsc{Especificación del intercambio de información} &  Tipo Report\\ \hline
\end{tabularx}
  \label{tab.CM1_2}
\end{table}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Especificación de las transacciones}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textcolor {red} {
Modelo CM-2 para las transacciones identificadas.
\\
\textbf{NOTA IMPORTANTE:} Normalmente los modelos de comunicación de las prácticas son sencillos, por lo que este formulario puede no ser necesario. Se realizará sólo
para las transacciones complejas que no queden completamente
especificadas con el modelo CM-1.
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%FINAL DEL LIBRO
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\end{document}

